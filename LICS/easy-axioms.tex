%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%          
\section{Extensionality, Foundation, Union, Infinity}
\label{sec:easy-axioms}
\newcommand{\quantRel}[3]{#1 #2\kern -1pt[#3]}
\newcommand{\forallRel}[2]{\quantRel{\forall}{#1}{#2}}
\newcommand{\existsRel}[2]{\quantRel{\exists}{#1}{#2}}

It is straightforward to show that the generic extension $M[G]$
satisfies extensionality and foundation. Showing that it is closed
under Union depends on $G$ being a filter. On the other hand, infinity
takes some more effort.

% To say that $A$ satisfies some axiom, say extensionality, means
% that the relativized version of extensionality is true in $A$:
% \[
% \forallRel{x}{A}. \forallRel{y}{A}. (\forallRel{w}{A} . w \in x \leftrightarrow w\in y) \rightarrow x = y
% \]

Extensionality for $M[G]$ is straightforward because $M[G]$ is
transitive. %\footnote{We generalized slightly some results by Paulson:
%  in fact, several basic lemmas are valid for any transitive class
%  (for instance, absoluteness of Union). We plan to define a new
%  hierarchy of locales for ZF where transitive classes will be at the
%  base.}
In fact, for $x,y\in M[G]$, we can prove
$\forall w. w\in x \leftrightarrow w\in y$ (notice that the binding
$w$ is not relativized), because $M[G]$ is transitive; therefore by
extensionality we conclude $x=y$.

Foundation for $M[G]$ does not depend on $M[G]$ being transitive: in
this case we take $x\in M[G]$ and prove that there is an
$\in$\kern -1pt-minimal element, relativized to $M[G]$, in $x$. Using
foundation for $x\cap M[G]$ we get a minimal $y$ (which is not
relativized to $M[G]$), so it is still minimal when relativized to
$M[G]$.

The Union Axiom asserts that if $x$ is a set, then there exists
another set (the union of $x$) containing all the elements in each
element of $x$. The relativized version of Union asks to give a name
$\pi_a$ for each $a\in M[G]$ and proving $\val(G,\pi_a)=\union a$.
Let $\tau$ be the name for $a$, i.e.\ $a=\val(G,\tau)$; 
\citet{kunen2011set} gives $\pi_a$ in terms of $\tau$:
\begin{align*}
  \pi_a = \{\langle\theta,p \rangle &\in \dom(\union(\dom(\tau))) \times \PP : \\
&\exists \langle\sigma,q\rangle  \in \tau .
 \exists r \in \PP . \langle \theta,r\rangle \in \sigma \wedge
    p\leqslant r \wedge p \leqslant q \}
\end{align*}
Our formal definition is slightly different in order to ease the proof of
$\pi_a \in M$.  Since $\pi_a$ it is defined using Separation, one
needs to internalize $\pi_a$ as a formula
\isa{union{\isacharunderscore}name{\isacharunderscore}fm}. The
equation $\val(G,\pi_a)=\union a$ is proved by showing the mutual
inclusion; in both cases one uses that $G$ is a filter.
\begin{isabelle}
  \isacommand{lemma}\isamarkupfalse%
\ Union{\isacharunderscore}MG{\isacharunderscore}Eq\ {\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isasymin}\ M{\isacharbrackleft}G{\isacharbrackright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}a\ {\isacharequal}\ val{\isacharparenleft}G{\isacharcomma}{\isasymtau}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}filter{\isacharparenleft}G{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymtau}\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymUnion}\ a\ {\isacharequal}\ val{\isacharparenleft}G{\isacharcomma}Union{\isacharunderscore}name{\isacharparenleft}{\isasymtau}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}
\end{isabelle}


Since Union is absolute for any transitive class
\medskip

\fbox{No generaliza a Paulson porque \'el prueba el sii.}

\fbox{Y capaz su prueba de dos l\'{\i}neas tambi\'en lo hace}

\fbox{ac\'a (como Fundaci\'on), as\'{\i} que cuidado.}
\begin{isabelle}
\isacommand{lemma}\isamarkupfalse%
\ Union{\isacharunderscore}abs{\isacharunderscore}trans\ {\isacharcolon}\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}Transset{\isacharparenleft}Q{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}a\ {\isasymin}\ Q{\isachardoublequoteclose}\ \isakeyword{and}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}z\ {\isasymin}\ Q{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymUnion}\ a\ {\isacharequal}\ z{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}big{\isacharunderscore}union{\isacharparenleft}{\isacharhash}{\isacharhash}Q{\isacharcomma}a{\isacharcomma}z{\isacharparenright}{\isachardoublequoteclose}
\end{isabelle}
\noindent we may conclude that $M[G]$ is closed under Union:
\begin{isabelle}
  \isacommand{lemma}\isamarkupfalse%
  \ union{\isacharunderscore}in{\isacharunderscore}MG\ {\isacharcolon}\ \isanewline
  \ \ \isakeyword{assumes}\ {\isachardoublequoteopen}filter{\isacharparenleft}G{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}Union{\isacharunderscore}ax{\isacharparenleft}{\isacharhash}{\isacharhash}M{\isacharbrackleft}G{\isacharbrackright}{\isacharparenright}{\isachardoublequoteclose}
\end{isabelle}

\fbox{Hablar de \texttt{M\_trivial} y del uso de interfaz para
  instanciar}

\fbox{Falta \texttt{check\_in\_M} para completar Infinity}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "Separation_In_MG"
%%% ispell-local-dictionary: "american"
%%% End: 
