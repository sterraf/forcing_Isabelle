\section{Introduction}\label{sec:introduction}
Set Theory play a double role in Mathematics: It is one of its
possible foundations, and also an active research area.
%
As it is widely known, Georg Cantor introduced its main concepts and in
particular showed the fundamental result that the real line, $\R$  is not
coordinable with the natural numbers. Soon after this, he posed the
most important question in the field, written as a conjecture:
\begin{quote}
  The \emph{Continuum Hypothesis} ($\CH$). Every uncountable subset of $\R$ is
  coordinable with $\R$.
\end{quote}

The current  axiomatic foundation of Set Theory is through 
first-order logic and uses the axioms by  Zermelo, Fraenkel, and
including the Axiom of Choice ($\AC$) among them. This theory is
known by the $\ZFC$ acronym. G\"odel showed that $\CH$ can't be
refuted using the $\ZFC$, unless the latter are inconsistent (we say
that \emph{$\CH$ is relatively 
  consistent with  $\ZFC$}). For a while, this result left the
possibility that one might be able show that $\ZFC\models \CH$, but in
a groundbreaking work \cite{Cohen-CH-PNAS}, Paul Cohen discovered the
technique of 
\emph{forcing} and showed that $\neg\CH$ is relatively consistent with
$\ZFC$. Forcing has since then been used for showing innumerable
independence results and to perform mathematical constructions.

A great part of G\"odel's work on this subject has been formalized in
Isabelle by Lawrence Paulson. This paper formalizes a first part of
the machinery of forcing. In the next Subsections we discuss some of
the set-theoretical  details involved.   

\subsection{Models of $\ZFC$}
By G\"odel's Second Incompleteness Theorem, we can't  prove that
there exists a model of $\ZFC$. More formally, if we assume that
mathematical proofs can be encoded as theorems of $\ZFC$ and that
the latter do not lead to contradictions (i.e., $\ZFC$ is
\emph{consistent}), then we can't prove that there exists a set $M$
and a binary relation $E$ such that $\lb M,E\rb$ satisfies the $\ZFC$
axioms.

A relative consistency proof for an axiom $A$ is then obtained by assuming that such a
$\lb M,E\rb$ exists, and constructing another $\lb M',E'\rb$
satisfying $\ZFC + A$. We single out a very special kind of models:
%
\begin{definition}\label{def:transitive-model}
  \begin{enumerate}
  \item A set $M$ (of sets) is \emph{transitive} if for all $x\in M$ and 
    $y\in x$, we have $y\in M$ (i.e., every element of $M$ is a subset
    of $M$).
  \item $\lb M,E\rb$ is a \emph{transitive model} if $M$ is transitive
     and  $E$ is the membership relation $\in$ restricted to
    $M$. It is \emph{countable} if $M$ is coordinable with a subset of
    $\N$; we then say that the model  $M$ is a \emph{ctm}. 
  \end{enumerate}
\end{definition}
%
As in the last sentence, one usually uses the underlying set to refer to a transitive
model, since the relation is fixed. 

Despite G\"odel's Second, we can find transitive models for every
finite fragment of $\ZFC$. More precisely, 
%
\begin{theorem}\label{th:ctm-finite-axioms}
  For each finite subset
  $\Phi\sbq \ZFC$, the statement \emph{``there exists a countable
    transitive model of $\Phi$''} is a theorem of $\ZFC$.
\end{theorem}
%
This follows by a
combination of three results (the Reflection Principle,
L\"owenheim-Skolem Theorem, and the Mostowksi Collapse). The reader
can consult the details in \cite{kunen2011set}. Consistency arguments that assume
the existence of a ctm $M$ of $\ZFC$ can usually be replaced by a
model as in Theorem~\ref{th:ctm-finite-axioms}, since a first-order
proof (e.g.\ of contradiction) involves only finitely many axioms.

Assume that $M$ is a ctm of $\ZFC$. In a portrayal convenient for this
introduction, G\"odel showed that $M$ contains a minimal submodel
$L^M$ of the same ``height'' (i.e.\ having the same ordinals)
that satisfies $\ZFC+\CH$. The sets in $L^M$ are called
\emph{constructible} and are in a sense ``definable.'' In fact, there
is a first-order formula $L$ such that $L^M = \{x\in M : M\models
L(x)\}$.

It is a primary need to have a means to correlate  (first-order)
properties satisfied by a model $M$ and those of a 
submodel $N\sbq M$. As a simple example on this, consider 
%% $M\defi \{\emptyset,\{\emptyset\},\{\{\emptyset\}\}\}$ and
%% $N\defi\{\{\emptyset\},\{\{\emptyset\}\}\}$, and let 
%% $\phi(x)\defi \neg\exists y (y \in x)$. It is clear that 
%% $M\models \phi(\emptyset)$; but we have
%% \[
%% M\not\models \phi(\{\emptyset\}) \quad\text{ but }\quad N\models \phi(\{\emptyset\}).
%% \]
%% There is a discrepancy between what $M$ and $N$ \emph{believe} about
%% their common element $\{\emptyset\}$.
$M\defi \{a,b,c, \{a,b\},\{a,b,c\}\}$ and
$N\defi\{a,b,\{a,b,c\}\}$, and let 
\[
\phi(x,y,z)\defi \forall w \,( w\in z \lsii w=x \o w=y).
\]
%% It is clear that  $M\models \phi(\{a,b\})$; but we have
Then we have
\[
M\not\models \phi(a,b,\{a,b,c\}) \quad\text{ but }\quad N\models \phi(a,b,\{a,b,c\}).
\]
There is a discrepancy between  $M$ and $N$ about $\{a,b,c\}$ being ``the
(unordered) pair of $a$ and $b$.'' We say that $\phi$ holds for
$a,b,\{a,b,c\}$ \emph{relative} to $N$. It is immediate to see that
$\phi$ holds  for $x,y,z$ relative to $N$ if and only if
\[
\phi^N(x,y,z)\defi \forall w.\ w\in N\limp ( w\in z \lsii w=x \o w=y)
\] 
holds. $\phi^N$ is called the \emph{relativization of $\phi$ to
  $N$}. One can generalize this operation of relativization to the
class of all sets satisfying a first-order predicate $C$ in a
straightforward way:
\[
\phi^C(x,y,z)\defi \forall w.\ C(w)\limp ( w\in z \lsii w=x \o w=y)
\] 

It can be shown elementarily that if $M$ and $N$ are transitive,
$\phi^N$ holds if and only if $\phi^M$ holds,  for $x,y,z\in N$. We
say then that $\phi$ is \emph{absolute between $N$ and $M$.}

The concepts of relativization and absoluteness are central to task of
transferring truth of axioms in $M$ to  $L^M$, and consitute the
hardest part of Paulson's development. 


\subsection{Forcing}
Forcing is a technique to extend countable transitive models of
$\ZFC$. This process is guaranteed to preserve the $\ZFC$
axioms but allows to fine-tune what other first order properties the
extension will have. Given a ctm $M$ of $\ZFC$, a new set $G$ is
adjoined to $M$ and under some hypothesis ($G$ being ``generic''),
there exists a smallest model $M[G]$ of $\ZFC$ that includes $M$ and
contains $G$. 

The easiest way to define genericity is by using a preorder with top
$\lb\PP,\leq,\1\rb$ in $M$.   
In Section~\ref{sec:forcing-notions} we formalize the definitions of
\emph{dense} subset and  \emph{filter} of  $\PP$, and we say that  $G$
is an $M$-generic filter
if it intersects every dense subset of $\PP$ that lies in $M$.

The  Rasiowa-Sikorski lemma  states that that for every countable 
family of dense subsets of a preorder there is a filter that intersects them
all. Thus, there are generic filters $G$ for countable transitive models.  In
general, no such  $G$ belongs to $M$ and therefore the extension
$M[G]$ is proper. We formalize the proof of the Rasiowa-Sikorski lemma
in Section~\ref{sec:rasiowa-sikorski-lemma}. A requisite result on
a version of the Axiom of Choice is formalized in
Section~\ref{sec:sequence-version-dc}.

Elements of $M[G]$ are coded by the elements of $M$, and are obtained
from them by applying a function \isatt{val} that uses the generic filter
as a parameter. In order to show
that $M[G]$ does  extend $M$, we formalize the function \isatt{check}
that given an element $x\in M$ provides with a code (a ``name'') for
it. Show that this name belongs to $M$ involves some technical issues
that will be addresed in a further work. This is all explained in
Section~\ref{sec:names}.
 

A central part of this formalization project involves showing that the
$\ZFC$ holds in the generic extension. This is most relevant since
forcing is essentially the only known way to \emph{extend} models of
$\ZFC$ (while preserving ordinals). The most difficult step to achieve
this goal is to define the \emph{forcing relation}, that allows to
connect satisfaction in $M$ to that of $M[G]$; this is needed to show
that the axiom schemes of Separation and Replacement hold in $M[G]$,
as well as the Powerset axiom. In this work we tackle the Pairing
Axiom. This doesn't require the 
forcing relation, but provides an illustration of the use of names.  
   
We continue with a brief description of the Isabelle framework. 
%%% Local Variables:
%%% mode: latex
%%% ispell-local-dictionary: "american"
%%% TeX-master: "first_steps_into_forcing"
%%% End:
