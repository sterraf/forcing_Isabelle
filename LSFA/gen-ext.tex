\section{The generic extension}
Forcing is a technique to extend countable transitive models of
$\ZFC$. This process is guaranteed to preserve the $\ZFC$
axioms but allows to fine-tune what other first order properties the
extension will have. The first, both historically and in importance,
application of forcing was the proof that $\AC$ and $\CH$ were not
derivable from $\ZFC$; this was done by Cohen in its seminal work
\cite{Cohen-CH-PNAS}.

\subsection{The generic filter}
The following locale gathers the data needed to ensure the 
existence of an $M$-generic filter for a poset $P$.

\begin{isabellebody}
\isanewline
\isacommand{locale}\isamarkupfalse%
\ forcing{\isacharunderscore}data\ {\isacharequal}\ forcing{\isacharunderscore}poset\ {\isacharplus}\isanewline
\ \ \isakeyword{fixes}\ M\ enum\isanewline
\ \ \isakeyword{assumes}\ M{\isacharunderscore}countable{\isacharcolon}\ \ \ \ \ \ {\isachardoublequoteopen}enum{\isasymin}bij{\isacharparenleft}nat{\isacharcomma}M{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ P{\isacharunderscore}in{\isacharunderscore}M{\isacharcolon}\ \ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}P\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isakeyword{and}\ leq{\isacharunderscore}in{\isacharunderscore}M{\isacharcolon}\ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}leq\ {\isasymin}\ M{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}\ \ \isanewline
\isacommand{definition}\isamarkupfalse%
\isanewline
\ \ M{\isacharunderscore}generic\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}i{\isasymRightarrow}o{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ {\isachardoublequoteopen}M{\isacharunderscore}generic{\isacharparenleft}G{\isacharparenright}\ {\isacharequal}{\isacharequal}\ filter{\isacharparenleft}G{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}D{\isasymin}M{\isachardot}\ D{\isasymsubseteq}P\ {\isasymand}\ dense{\isacharparenleft}D{\isacharparenright}{\isasymlongrightarrow}D{\isasyminter}G{\isasymnoteq}{\isadigit{0}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\end{isabellebody}

An immediate consequence of the Rasiowa-Sikorski Lemma is the
existence of an $M$-generic filter for a poset $P$.

\begin{isabellebody}
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ generic{\isacharunderscore}filter{\isacharunderscore}existence{\isacharcolon}\ \isanewline
\ \ {\isachardoublequoteopen}p{\isasymin}P\ {\isasymLongrightarrow}\ {\isasymexists}G{\isachardot}\ p{\isasymin}G\ {\isasymand}\ M{\isacharunderscore}generic{\isacharparenleft}G{\isacharparenright}{\isachardoublequoteclose}\isanewline
\end{isabellebody}

By defining an appropriate countable sequence of dense subsets of $P$,
\begin{isabellebody}
\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacharquery}D{\isacharequal}{\isachardoublequoteopen}{\isasymlambda}n{\isasymin}nat{\isachardot}\ {\isacharparenleft}if\ {\isacharparenleft}enum{\isacharbackquote}n{\isasymsubseteq}P\ {\isasymand}\ dense{\isacharparenleft}enum{\isacharbackquote}n{\isacharparenright}{\isacharparenright}\ \ then\ enum{\isacharbackquote}n\ else\ P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\end{isabellebody}
\noindent we can instantiate the locale \verb|countable_generic|

\begin{isabellebody}
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ Eq{\isadigit{2}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}n{\isasymin}nat{\isachardot}\ {\isacharquery}D{\isacharbackquote}n\ {\isasymin}\ Pow{\isacharparenleft}P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ Eq{\isadigit{3}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharquery}D{\isacharcolon}nat{\isasymrightarrow}Pow{\isacharparenleft}P{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}rule\ lam{\isacharunderscore}codomain{\isacharparenright}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ Eq{\isadigit{4}}{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}n{\isasymin}nat{\isachardot}\ dense{\isacharparenleft}{\isacharquery}D{\isacharbackquote}n{\isacharparenright}{\isachardoublequoteclose}
\end{isabellebody}
\dots
\begin{isabellebody}
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ Eq{\isadigit{3}}\ \isakeyword{and}\ Eq{\isadigit{4}}\ \isacommand{interpret}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ cg{\isacharcolon}\ countable{\isacharunderscore}generic\ P\ leq\ uno\ {\isacharquery}D\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}unfold{\isacharunderscore}locales{\isacharcomma}\ auto{\isacharparenright}\isanewline
\end{isabellebody}
\noindent
and then a  $\calD$-generic filter given by Rasiowa-Sikorski will be $M$-generic by construction. 

\begin{isabellebody}
\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ cg{\isachardot}rasiowa{\isacharunderscore}sikorski\ \isakeyword{and}\ Eq{\isadigit{1}}\ \isacommand{obtain}\isamarkupfalse%
\ G\ \isakeyword{where}\ \isanewline
\ \ \ \ \ \ \ \ \ Eq{\isadigit{6}}{\isacharcolon}\ {\isachardoublequoteopen}p{\isasymin}G\ {\isasymand}\ filter{\isacharparenleft}G{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}n{\isasymin}nat{\isachardot}{\isacharparenleft}{\isacharquery}D{\isacharbackquote}n{\isacharparenright}{\isasyminter}G{\isasymnoteq}{\isadigit{0}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ cg{\isachardot}D{\isacharunderscore}generic{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ Eq{\isadigit{7}}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymforall}D{\isasymin}M{\isachardot}\ D{\isasymsubseteq}P\ {\isasymand}\ dense{\isacharparenleft}D{\isacharparenright}{\isasymlongrightarrow}D{\isasyminter}G{\isasymnoteq}{\isadigit{0}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\end{isabellebody}

We omit the rest of this Isar proof.

%%% Local Variables:
%%% mode: latex
%%% ispell-local-dictionary: "american"
%%% TeX-master: "first_steps_into_forcing"
%%% End:
