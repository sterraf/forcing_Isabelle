THY_FILES = Arities.thy Choice_Axiom.thy \
 Extensionality_Axiom.thy Forces_Definition.thy Forcing_Data.thy\
 Forcing_Main.thy Forcing_Notions.thy Forcing_Theorems.thy\
 Foundation_Axiom.thy FrecR.thy Infinity_Axiom.thy\
 Interface.thy Internalizations.thy Least.thy Names.thy\
 Nat_Miscellanea.thy Ordinals_In_MG.thy\
 Pairing_Axiom.thy Pointed_DC.thy Powerset_Axiom.thy Proper_Extension.thy\
 Rasiowa_Sikorski.thy Recursion_Thms.thy Relative_Univ.thy\
 Renaming.thy Renaming_Auto.thy Replacement_Axiom.thy\
 Separation_Axiom.thy Separation_Rename.thy Succession_Poset.thy\
 Synthetic_Definition.thy Union_Axiom.thy Internal_ZFC_Axioms.thy

ML_FILES = Renaming_ML.ml

LINKING_FILES = fix_links.sh links.css

CHAPTER =ZF

build: 
	isabelle env ML_OPTIONS="--minheap 5500" isabelle build -v -c -D .

html: 
	isabelle env ML_OPTIONS="--minheap 5500"\
	  ISABELLE_BROWSER_INFO=./output/html\
	  isabelle build -c -d . -o browser_info -v Forcing
	sh fix_links.sh
	cat links.css >> output/html/$(CHAPTER)/Forcing/isabelle.css

tar:    clean html
	mkdir tmptar
	mkdir tmptar/src
	cp -r ../Constructible tmptar
	cp -r $(THY_FILES) $(ML_FILES) $(LINKING_FILES) ROOT Makefile document/ tmptar/src
	cp ../README tmptar
	cp -r output/html/$(CHAPTER)/Forcing/ tmptar/html
	tar --transform "s/tmptar/Forcing/g" --show-transformed-names -cvzf forcing.tar.gz tmptar
	rm -rf tmptar

clean:
	rm -rf output/ tmptar
